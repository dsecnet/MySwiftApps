INFO:     Will watch for changes in these directories: ['/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [15876] using StatReload
INFO:     Started server process [15881]
INFO:     Waiting for application startup.
CRITICAL: secret_key is not set or is the default value! Set a strong SECRET_KEY in .env
INFO:     Application startup complete.
2026-02-06 01:08:04,341 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-06 01:08:04,341 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-06 01:08:04,361 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-06 01:08:04,361 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-06 01:08:04,364 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-06 01:08:04,364 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-06 01:08:04,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:04,391 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:04,391 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine [cached since 0.0005188s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:04,392 INFO sqlalchemy.engine.Engine [cached since 0.0007073s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:04,416 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:08:04,417 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR ORDER BY workouts.date DESC
2026-02-06 01:08:04,417 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:04,417 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54566 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:54565 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
2026-02-06 01:08:04,429 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54564 - "GET /api/v1/workouts/ HTTP/1.1" 200 OK
2026-02-06 01:08:04,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:04,456 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:04,456 INFO sqlalchemy.engine.Engine [cached since 0.06424s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:04,458 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54564 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:54564 - "GET /api/v1/onboarding/options HTTP/1.1" 200 OK
2026-02-06 01:08:13,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:13,799 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:08:13,799 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('test_student@corevia.com',)
2026-02-06 01:08:13,801 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54571 - "POST /api/v1/auth/register HTTP/1.1" 400 Bad Request
2026-02-06 01:08:14,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:14,766 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:14,766 INFO sqlalchemy.engine.Engine [cached since 10.37s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:14,767 INFO sqlalchemy.engine.Engine SELECT user_onboarding.id, user_onboarding.user_id, user_onboarding.fitness_goal, user_onboarding.fitness_level, user_onboarding.preferred_trainer_type, user_onboarding.is_completed, user_onboarding.completed_at, user_onboarding.created_at 
FROM user_onboarding 
WHERE user_onboarding.user_id = $1::VARCHAR
2026-02-06 01:08:14,767 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:14,769 INFO sqlalchemy.engine.Engine UPDATE users SET updated_at=$1::TIMESTAMP WITHOUT TIME ZONE, goal=$2::VARCHAR WHERE users.id = $3::VARCHAR
2026-02-06 01:08:14,769 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (datetime.datetime(2026, 2, 5, 21, 8, 14, 769571), 'muscle_gain', 'd1106f86-895c-49d3-9b2c-6c6c1f3c6b3c')
2026-02-06 01:08:14,772 INFO sqlalchemy.engine.Engine UPDATE user_onboarding SET fitness_goal=$1::VARCHAR, completed_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE user_onboarding.id = $3::VARCHAR
2026-02-06 01:08:14,772 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('muscle_gain', datetime.datetime(2026, 2, 5, 21, 8, 14, 768784), 'd99f109c-50d5-4442-97e9-77094aa81961')
2026-02-06 01:08:14,773 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54573 - "POST /api/v1/onboarding/complete HTTP/1.1" 200 OK
2026-02-06 01:08:17,527 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:17,527 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:08:17,527 INFO sqlalchemy.engine.Engine [cached since 3.728s ago] ('test_student@corevia.com',)
2026-02-06 01:08:17,713 INFO sqlalchemy.engine.Engine COMMIT
2026-02-06 01:08:17,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:17,714 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:17,714 INFO sqlalchemy.engine.Engine [cached since 13.32s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
INFO:     127.0.0.1:54575 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2026-02-06 01:08:17,715 INFO sqlalchemy.engine.Engine SELECT food_entries.id, food_entries.user_id, food_entries.name, food_entries.calories, food_entries.protein, food_entries.carbs, food_entries.fats, food_entries.meal_type, food_entries.date, food_entries.notes, food_entries.has_image, food_entries.image_url, food_entries.created_at, food_entries.ai_analyzed, food_entries.ai_confidence 
FROM food_entries 
WHERE food_entries.user_id = $1::VARCHAR ORDER BY food_entries.date DESC
2026-02-06 01:08:17,715 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:08:17,721 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54573 - "GET /api/v1/food/ HTTP/1.1" 200 OK
2026-02-06 01:08:22,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:22,654 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:08:22,654 INFO sqlalchemy.engine.Engine [cached since 8.855s ago] ('testmuellim@corevia.com',)
2026-02-06 01:08:22,840 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54577 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2026-02-06 01:08:53,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:53,724 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:08:53,725 INFO sqlalchemy.engine.Engine [cached since 39.93s ago] ('testmuellim@corevia.com',)
2026-02-06 01:08:53,937 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2026-02-06 01:08:53,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:53,950 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:53,950 INFO sqlalchemy.engine.Engine [cached since 49.56s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:53,951 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:08:53,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:53,964 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:53,964 INFO sqlalchemy.engine.Engine [cached since 49.57s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:53,964 INFO sqlalchemy.engine.Engine SELECT user_onboarding.id, user_onboarding.user_id, user_onboarding.fitness_goal, user_onboarding.fitness_level, user_onboarding.preferred_trainer_type, user_onboarding.is_completed, user_onboarding.completed_at, user_onboarding.created_at 
FROM user_onboarding 
WHERE user_onboarding.user_id = $1::VARCHAR
2026-02-06 01:08:53,964 INFO sqlalchemy.engine.Engine [cached since 39.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:53,965 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/onboarding/status HTTP/1.1" 200 OK
2026-02-06 01:08:54,013 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:54,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:54,013 INFO sqlalchemy.engine.Engine [cached since 49.62s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:54,015 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:08:54,015 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:54,016 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:08:54,016 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:54,017 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:08:54,017 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:54,018 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:08:58,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:08:58,762 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:08:58,762 INFO sqlalchemy.engine.Engine [cached since 54.37s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:58,765 INFO sqlalchemy.engine.Engine SELECT training_plans.id, training_plans.trainer_id, training_plans.assigned_student_id, training_plans.title, training_plans.plan_type, training_plans.notes, training_plans.created_at, training_plans.updated_at 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR ORDER BY training_plans.created_at DESC
2026-02-06 01:08:58,766 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:08:58,775 INFO sqlalchemy.engine.Engine SELECT plan_workouts.training_plan_id AS plan_workouts_training_plan_id, plan_workouts.id AS plan_workouts_id, plan_workouts.name AS plan_workouts_name, plan_workouts.sets AS plan_workouts_sets, plan_workouts.reps AS plan_workouts_reps, plan_workouts.duration AS plan_workouts_duration 
FROM plan_workouts 
WHERE plan_workouts.training_plan_id IN ($1::VARCHAR)
2026-02-06 01:08:58,775 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('c2f0a6b0-234d-498e-a9dd-a9e18f59e0e2',)
2026-02-06 01:08:58,776 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/plans/training HTTP/1.1" 200 OK
2026-02-06 01:09:00,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:09:00,310 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:09:00,310 INFO sqlalchemy.engine.Engine [cached since 55.92s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:09:00,311 INFO sqlalchemy.engine.Engine SELECT meal_plans.id, meal_plans.trainer_id, meal_plans.assigned_student_id, meal_plans.title, meal_plans.plan_type, meal_plans.daily_calorie_target, meal_plans.notes, meal_plans.created_at, meal_plans.updated_at 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR ORDER BY meal_plans.created_at DESC
2026-02-06 01:09:00,311 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:09:00,317 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/plans/meal HTTP/1.1" 200 OK
2026-02-06 01:09:01,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:09:01,337 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:09:01,337 INFO sqlalchemy.engine.Engine [cached since 56.95s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:09:01,338 INFO sqlalchemy.engine.Engine SELECT chat_messages.id, chat_messages.sender_id, chat_messages.receiver_id, chat_messages.message, chat_messages.is_read, chat_messages.created_at 
FROM chat_messages 
WHERE chat_messages.sender_id = $1::VARCHAR OR chat_messages.receiver_id = $2::VARCHAR ORDER BY chat_messages.created_at DESC
2026-02-06 01:09:01,339 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd', 'b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd')
2026-02-06 01:09:01,340 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:09:01,340 INFO sqlalchemy.engine.Engine [cached since 56.95s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:09:01,341 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54579 - "GET /api/v1/chat/conversations HTTP/1.1" 200 OK
2026-02-06 01:12:17,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:17,581 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:17,581 INFO sqlalchemy.engine.Engine [cached since 253.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:17,584 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:17,585 INFO sqlalchemy.engine.Engine [cached since 253.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:17,585 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:17,585 INFO sqlalchemy.engine.Engine [cached since 253.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,604 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:12:17,604 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR ORDER BY workouts.date DESC
2026-02-06 01:12:17,604 INFO sqlalchemy.engine.Engine [cached since 253.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,605 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54587 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:54588 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
2026-02-06 01:12:17,719 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54586 - "GET /api/v1/workouts/ HTTP/1.1" 200 OK
2026-02-06 01:12:17,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:17,905 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:17,905 INFO sqlalchemy.engine.Engine [cached since 253.5s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,909 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54586 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:12:17,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:17,996 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:17,996 INFO sqlalchemy.engine.Engine [cached since 253.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,997 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:12:17,997 INFO sqlalchemy.engine.Engine [cached since 204s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:17,998 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:17,998 INFO sqlalchemy.engine.Engine [cached since 204s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:18,000 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:18,000 INFO sqlalchemy.engine.Engine [cached since 204s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:18,001 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54586 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:12:26,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:26,482 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:26,482 INFO sqlalchemy.engine.Engine [cached since 262.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:26,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:26,483 INFO sqlalchemy.engine.Engine [cached since 262.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,484 INFO sqlalchemy.engine.Engine SELECT training_plans.id, training_plans.trainer_id, training_plans.assigned_student_id, training_plans.title, training_plans.plan_type, training_plans.notes, training_plans.created_at, training_plans.updated_at 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR ORDER BY training_plans.created_at DESC
2026-02-06 01:12:26,484 INFO sqlalchemy.engine.Engine [cached since 207.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,484 INFO sqlalchemy.engine.Engine SELECT plan_workouts.training_plan_id AS plan_workouts_training_plan_id, plan_workouts.id AS plan_workouts_id, plan_workouts.name AS plan_workouts_name, plan_workouts.sets AS plan_workouts_sets, plan_workouts.reps AS plan_workouts_reps, plan_workouts.duration AS plan_workouts_duration 
FROM plan_workouts 
WHERE plan_workouts.training_plan_id IN ($1::VARCHAR)
2026-02-06 01:12:26,484 INFO sqlalchemy.engine.Engine [cached since 207.7s ago] ('c2f0a6b0-234d-498e-a9dd-a9e18f59e0e2',)
2026-02-06 01:12:26,485 INFO sqlalchemy.engine.Engine SELECT meal_plans.id, meal_plans.trainer_id, meal_plans.assigned_student_id, meal_plans.title, meal_plans.plan_type, meal_plans.daily_calorie_target, meal_plans.notes, meal_plans.created_at, meal_plans.updated_at 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR ORDER BY meal_plans.created_at DESC
2026-02-06 01:12:26,485 INFO sqlalchemy.engine.Engine [cached since 206.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,485 INFO sqlalchemy.engine.Engine COMMIT
2026-02-06 01:12:26,485 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54596 - "GET /api/v1/plans/training HTTP/1.1" 200 OK
INFO:     127.0.0.1:54597 - "GET /api/v1/plans/meal HTTP/1.1" 200 OK
2026-02-06 01:12:26,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:26,580 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:26,580 INFO sqlalchemy.engine.Engine [cached since 262.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,581 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:12:26,581 INFO sqlalchemy.engine.Engine [cached since 212.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,582 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:26,582 INFO sqlalchemy.engine.Engine [cached since 212.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,582 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:26,582 INFO sqlalchemy.engine.Engine [cached since 212.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:26,582 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54596 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:12:37,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:37,756 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:37,757 INFO sqlalchemy.engine.Engine [cached since 273.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:37,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:37,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:37,760 INFO sqlalchemy.engine.Engine [cached since 273.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:37,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:37,761 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:37,761 INFO sqlalchemy.engine.Engine [cached since 273.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:37,950 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54603 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
2026-02-06 01:12:37,955 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54602 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
2026-02-06 01:12:37,987 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR ORDER BY workouts.date DESC
2026-02-06 01:12:37,988 INFO sqlalchemy.engine.Engine [cached since 273.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,008 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54599 - "GET /api/v1/workouts/ HTTP/1.1" 200 OK
2026-02-06 01:12:38,043 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:38,043 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:38,043 INFO sqlalchemy.engine.Engine [cached since 273.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,092 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54604 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:12:38,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:38,129 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:38,129 INFO sqlalchemy.engine.Engine [cached since 273.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,203 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:12:38,203 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,249 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:38,249 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,331 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:38,331 INFO sqlalchemy.engine.Engine [cached since 224.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:38,332 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54599 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:12:44,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:44,267 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:44,267 INFO sqlalchemy.engine.Engine [cached since 279.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,267 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:44,268 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:44,268 INFO sqlalchemy.engine.Engine [cached since 279.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,268 INFO sqlalchemy.engine.Engine SELECT training_plans.id, training_plans.trainer_id, training_plans.assigned_student_id, training_plans.title, training_plans.plan_type, training_plans.notes, training_plans.created_at, training_plans.updated_at 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR ORDER BY training_plans.created_at DESC
2026-02-06 01:12:44,268 INFO sqlalchemy.engine.Engine [cached since 225.5s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,269 INFO sqlalchemy.engine.Engine SELECT meal_plans.id, meal_plans.trainer_id, meal_plans.assigned_student_id, meal_plans.title, meal_plans.plan_type, meal_plans.daily_calorie_target, meal_plans.notes, meal_plans.created_at, meal_plans.updated_at 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR ORDER BY meal_plans.created_at DESC
2026-02-06 01:12:44,269 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,270 INFO sqlalchemy.engine.Engine SELECT plan_workouts.training_plan_id AS plan_workouts_training_plan_id, plan_workouts.id AS plan_workouts_id, plan_workouts.name AS plan_workouts_name, plan_workouts.sets AS plan_workouts_sets, plan_workouts.reps AS plan_workouts_reps, plan_workouts.duration AS plan_workouts_duration 
FROM plan_workouts 
WHERE plan_workouts.training_plan_id IN ($1::VARCHAR)
2026-02-06 01:12:44,270 INFO sqlalchemy.engine.Engine [cached since 225.5s ago] ('c2f0a6b0-234d-498e-a9dd-a9e18f59e0e2',)
2026-02-06 01:12:44,270 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54609 - "GET /api/v1/plans/meal HTTP/1.1" 200 OK
2026-02-06 01:12:44,272 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54608 - "GET /api/v1/plans/training HTTP/1.1" 200 OK
2026-02-06 01:12:44,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:44,305 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:44,305 INFO sqlalchemy.engine.Engine [cached since 279.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:12:44,306 INFO sqlalchemy.engine.Engine [cached since 230.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,307 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:44,307 INFO sqlalchemy.engine.Engine [cached since 230.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,307 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:44,307 INFO sqlalchemy.engine.Engine [cached since 230.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:44,308 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54608 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:12:47,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:47,934 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:47,934 INFO sqlalchemy.engine.Engine [cached since 283.5s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:47,935 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR ORDER BY workouts.date DESC
2026-02-06 01:12:47,935 INFO sqlalchemy.engine.Engine [cached since 283.5s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine [cached since 283.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:47,939 INFO sqlalchemy.engine.Engine [cached since 283.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:47,940 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:12:47,940 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:12:47,940 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54612 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:54611 - "GET /api/v1/workouts/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54613 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
2026-02-06 01:12:48,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:48,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:48,048 INFO sqlalchemy.engine.Engine [cached since 283.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:48,049 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54611 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:12:48,094 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:12:48,094 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:12:48,095 INFO sqlalchemy.engine.Engine [cached since 283.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:48,095 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:12:48,095 INFO sqlalchemy.engine.Engine [cached since 234.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:48,096 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:48,096 INFO sqlalchemy.engine.Engine [cached since 234.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:48,097 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:12:48,097 INFO sqlalchemy.engine.Engine [cached since 234.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:12:48,097 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54611 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:13:06,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:06,221 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:06,221 INFO sqlalchemy.engine.Engine [cached since 301.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,222 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:06,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:06,223 INFO sqlalchemy.engine.Engine [cached since 301.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,223 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR ORDER BY workouts.date DESC
2026-02-06 01:13:06,223 INFO sqlalchemy.engine.Engine [cached since 301.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:06,224 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:06,224 INFO sqlalchemy.engine.Engine [cached since 301.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,224 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:13:06,224 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54615 - "GET /api/v1/workouts/ HTTP/1.1" 200 OK
2026-02-06 01:13:06,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54618 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:54619 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
2026-02-06 01:13:06,326 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:06,326 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:06,326 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,328 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54615 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:13:06,372 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:06,372 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:06,372 INFO sqlalchemy.engine.Engine [cached since 302s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,373 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:13:06,373 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,373 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:06,373 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,374 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:06,374 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:06,375 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54615 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:13:10,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:10,066 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:10,066 INFO sqlalchemy.engine.Engine [cached since 305.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine [cached since 305.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine SELECT training_plans.id, training_plans.trainer_id, training_plans.assigned_student_id, training_plans.title, training_plans.plan_type, training_plans.notes, training_plans.created_at, training_plans.updated_at 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR ORDER BY training_plans.created_at DESC
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine [cached since 251.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine SELECT meal_plans.id, meal_plans.trainer_id, meal_plans.assigned_student_id, meal_plans.title, meal_plans.plan_type, meal_plans.daily_calorie_target, meal_plans.notes, meal_plans.created_at, meal_plans.updated_at 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR ORDER BY meal_plans.created_at DESC
2026-02-06 01:13:10,067 INFO sqlalchemy.engine.Engine [cached since 249.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,068 INFO sqlalchemy.engine.Engine SELECT plan_workouts.training_plan_id AS plan_workouts_training_plan_id, plan_workouts.id AS plan_workouts_id, plan_workouts.name AS plan_workouts_name, plan_workouts.sets AS plan_workouts_sets, plan_workouts.reps AS plan_workouts_reps, plan_workouts.duration AS plan_workouts_duration 
FROM plan_workouts 
WHERE plan_workouts.training_plan_id IN ($1::VARCHAR)
2026-02-06 01:13:10,068 INFO sqlalchemy.engine.Engine [cached since 251.3s ago] ('c2f0a6b0-234d-498e-a9dd-a9e18f59e0e2',)
2026-02-06 01:13:10,068 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54615 - "GET /api/v1/plans/training HTTP/1.1" 200 OK
2026-02-06 01:13:10,072 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54618 - "GET /api/v1/plans/meal HTTP/1.1" 200 OK
2026-02-06 01:13:10,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:10,117 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:10,117 INFO sqlalchemy.engine.Engine [cached since 305.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,117 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:13:10,117 INFO sqlalchemy.engine.Engine [cached since 256.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,118 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:10,118 INFO sqlalchemy.engine.Engine [cached since 256.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,118 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:10,118 INFO sqlalchemy.engine.Engine [cached since 256.1s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:10,118 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54615 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:13:16,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:13:16,274 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:13:16,274 INFO sqlalchemy.engine.Engine [cached since 311.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:16,275 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:13:16,275 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:16,276 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:16,276 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:16,276 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:13:16,276 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:13:16,277 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54621 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:14:20,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:20,935 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:14:20,935 INFO sqlalchemy.engine.Engine [cached since 367.1s ago] ('test_student@corevia.com',)
Failed login attempt for: test_student@corevia.com
2026-02-06 01:14:21,136 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54625 - "POST /api/v1/auth/login HTTP/1.1" 401 Unauthorized
2026-02-06 01:14:56,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:56,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:14:56,930 INFO sqlalchemy.engine.Engine [cached since 403.1s ago] ('test_student@corevia.com',)
2026-02-06 01:14:57,136 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54629 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2026-02-06 01:14:57,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:57,158 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:14:57,158 INFO sqlalchemy.engine.Engine [cached since 412.8s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:14:57,183 INFO sqlalchemy.engine.Engine COMMIT
2026-02-06 01:14:57,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:57,184 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:14:57,184 INFO sqlalchemy.engine.Engine [cached since 412.8s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
INFO:     127.0.0.1:54629 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:14:57,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:57,185 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:14:57,185 INFO sqlalchemy.engine.Engine [cached since 412.8s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:14:57,186 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-06 01:14:57,186 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:54631 - "GET /api/v1/routes/stats?days=7 HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:54630 - "GET /api/v1/routes/ HTTP/1.1" 403 Forbidden
2026-02-06 01:14:57,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:14:57,436 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:14:57,436 INFO sqlalchemy.engine.Engine [cached since 413.1s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:14:57,438 INFO sqlalchemy.engine.Engine SELECT user_onboarding.id, user_onboarding.user_id, user_onboarding.fitness_goal, user_onboarding.fitness_level, user_onboarding.preferred_trainer_type, user_onboarding.is_completed, user_onboarding.completed_at, user_onboarding.created_at 
FROM user_onboarding 
WHERE user_onboarding.user_id = $1::VARCHAR
2026-02-06 01:14:57,438 INFO sqlalchemy.engine.Engine [cached since 402.7s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:14:57,445 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54629 - "GET /api/v1/onboarding/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54629 - "GET /api/v1/onboarding/options HTTP/1.1" 200 OK
2026-02-06 01:15:00,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:15:00,678 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:15:00,678 INFO sqlalchemy.engine.Engine [cached since 416.3s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:00,681 INFO sqlalchemy.engine.Engine SELECT follows.following_id 
FROM follows 
WHERE follows.follower_id = $1::VARCHAR
2026-02-06 01:15:00,681 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:00,688 INFO sqlalchemy.engine.Engine ROLLBACK
Error: GET /api/v1/social/feed error=(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "follows" does not exist
[SQL: SELECT follows.following_id 
FROM follows 
WHERE follows.follower_id = $1::VARCHAR]
[parameters: ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54629 - "GET /api/v1/social/feed?page=1&page_size=20 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "follows" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "follows" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 200, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 128, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 28, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/routers/social.py", line 98, in get_feed
    following_result = await db.execute(
                       ^^^^^^^^^^^^^^^^^
        select(Follow.following_id).where(Follow.follower_id == current_user.id)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "follows" does not exist
[SQL: SELECT follows.following_id 
FROM follows 
WHERE follows.follower_id = $1::VARCHAR]
[parameters: ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-06 01:15:05,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:15:05,010 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:15:05,010 INFO sqlalchemy.engine.Engine [cached since 420.6s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:05,013 INFO sqlalchemy.engine.Engine SELECT marketplace_products.id, marketplace_products.seller_id, marketplace_products.product_type, marketplace_products.title, marketplace_products.description, marketplace_products.price, marketplace_products.currency, marketplace_products.cover_image_url, marketplace_products.preview_video_url, marketplace_products.content_data, marketplace_products.sales_count, marketplace_products.rating, marketplace_products.reviews_count, marketplace_products.is_published, marketplace_products.is_featured, marketplace_products.created_at, marketplace_products.updated_at 
FROM marketplace_products 
WHERE marketplace_products.is_published = true ORDER BY marketplace_products.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2026-02-06 01:15:05,013 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (20, 0)
2026-02-06 01:15:05,014 INFO sqlalchemy.engine.Engine ROLLBACK
Error: GET /api/v1/marketplace/products error=(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "marketplace_products" does not exist
[SQL: SELECT marketplace_products.id, marketplace_products.seller_id, marketplace_products.product_type, marketplace_products.title, marketplace_products.description, marketplace_products.price, marketplace_products.currency, marketplace_products.cover_image_url, marketplace_products.preview_video_url, marketplace_products.content_data, marketplace_products.sales_count, marketplace_products.rating, marketplace_products.reviews_count, marketplace_products.is_published, marketplace_products.is_featured, marketplace_products.created_at, marketplace_products.updated_at 
FROM marketplace_products 
WHERE marketplace_products.is_published = true ORDER BY marketplace_products.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER]
[parameters: (20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54633 - "GET /api/v1/marketplace/products?page=1&page_size=20 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "marketplace_products" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "marketplace_products" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 200, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 128, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 28, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/routers/marketplace.py", line 139, in list_marketplace_products
    result = await db.execute(query)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "marketplace_products" does not exist
[SQL: SELECT marketplace_products.id, marketplace_products.seller_id, marketplace_products.product_type, marketplace_products.title, marketplace_products.description, marketplace_products.price, marketplace_products.currency, marketplace_products.cover_image_url, marketplace_products.preview_video_url, marketplace_products.content_data, marketplace_products.sales_count, marketplace_products.rating, marketplace_products.reviews_count, marketplace_products.is_published, marketplace_products.is_featured, marketplace_products.created_at, marketplace_products.updated_at 
FROM marketplace_products 
WHERE marketplace_products.is_published = true ORDER BY marketplace_products.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER]
[parameters: (20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54635 - "GET /api/v1/live-sessions?page=1&page_size=20&upcoming_only=true HTTP/1.1" 404 Not Found
2026-02-06 01:15:12,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:15:12,790 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:15:12,790 INFO sqlalchemy.engine.Engine [cached since 428.4s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:12,791 INFO sqlalchemy.engine.Engine SELECT workouts.id, workouts.user_id, workouts.title, workouts.category, workouts.duration, workouts.calories_burned, workouts.notes, workouts.date, workouts.is_completed, workouts.created_at, workouts.latitude, workouts.longitude, workouts.route_data, workouts.distance_km 
FROM workouts 
WHERE workouts.user_id = $1::VARCHAR AND date(workouts.date) = $2::DATE
2026-02-06 01:15:12,792 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c', datetime.date(2026, 1, 31))
2026-02-06 01:15:12,797 INFO sqlalchemy.engine.Engine SELECT food_entries.id, food_entries.user_id, food_entries.name, food_entries.calories, food_entries.protein, food_entries.carbs, food_entries.fats, food_entries.meal_type, food_entries.date, food_entries.notes, food_entries.has_image, food_entries.image_url, food_entries.created_at, food_entries.ai_analyzed, food_entries.ai_confidence 
FROM food_entries 
WHERE food_entries.user_id = $1::VARCHAR AND date(food_entries.date) = $2::DATE
2026-02-06 01:15:12,797 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c', datetime.date(2026, 1, 31))
2026-02-06 01:15:12,809 INFO sqlalchemy.engine.Engine SELECT body_measurements.id, body_measurements.user_id, body_measurements.measured_at, body_measurements.weight_kg, body_measurements.body_fat_percent, body_measurements.muscle_mass_kg, body_measurements.chest_cm, body_measurements.waist_cm, body_measurements.hips_cm, body_measurements.arms_cm, body_measurements.legs_cm, body_measurements.notes, body_measurements.created_at 
FROM body_measurements 
WHERE body_measurements.user_id = $1::VARCHAR AND body_measurements.measured_at = $2::DATE ORDER BY body_measurements.created_at DESC 
 LIMIT $3::INTEGER
2026-02-06 01:15:12,809 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c', datetime.date(2026, 1, 31), 1)
2026-02-06 01:15:12,809 INFO sqlalchemy.engine.Engine ROLLBACK
Error: GET /api/v1/analytics/dashboard error=(sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "body_measurements" does not exist
[SQL: SELECT body_measurements.id, body_measurements.user_id, body_measurements.measured_at, body_measurements.weight_kg, body_measurements.body_fat_percent, body_measurements.muscle_mass_kg, body_measurements.chest_cm, body_measurements.waist_cm, body_measurements.hips_cm, body_measurements.arms_cm, body_measurements.legs_cm, body_measurements.notes, body_measurements.created_at 
FROM body_measurements 
WHERE body_measurements.user_id = $1::VARCHAR AND body_measurements.measured_at = $2::DATE ORDER BY body_measurements.created_at DESC 
 LIMIT $3::INTEGER]
[parameters: ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c', datetime.date(2026, 1, 31), 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54635 - "GET /api/v1/analytics/dashboard HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "body_measurements" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "body_measurements" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 200, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 128, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/middleware/security.py", line 28, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/routers/analytics.py", line 252, in get_analytics_dashboard
    daily_stat = await calculate_daily_stats(current_user.id, day, db)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/app/routers/analytics.py", line 81, in calculate_daily_stats
    measurement_result = await db.execute(
                         ^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/Users/vusaldadashov/Desktop/ConsoleApp/corevia-backend/venv/lib/python3.14/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "body_measurements" does not exist
[SQL: SELECT body_measurements.id, body_measurements.user_id, body_measurements.measured_at, body_measurements.weight_kg, body_measurements.body_fat_percent, body_measurements.muscle_mass_kg, body_measurements.chest_cm, body_measurements.waist_cm, body_measurements.hips_cm, body_measurements.arms_cm, body_measurements.legs_cm, body_measurements.notes, body_measurements.created_at 
FROM body_measurements 
WHERE body_measurements.user_id = $1::VARCHAR AND body_measurements.measured_at = $2::DATE ORDER BY body_measurements.created_at DESC 
 LIMIT $3::INTEGER]
[parameters: ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c', datetime.date(2026, 1, 31), 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-06 01:15:16,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:15:16,291 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:15:16,291 INFO sqlalchemy.engine.Engine [cached since 431.9s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:16,291 INFO sqlalchemy.engine.Engine SELECT food_entries.id, food_entries.user_id, food_entries.name, food_entries.calories, food_entries.protein, food_entries.carbs, food_entries.fats, food_entries.meal_type, food_entries.date, food_entries.notes, food_entries.has_image, food_entries.image_url, food_entries.created_at, food_entries.ai_analyzed, food_entries.ai_confidence 
FROM food_entries 
WHERE food_entries.user_id = $1::VARCHAR ORDER BY food_entries.date DESC
2026-02-06 01:15:16,291 INFO sqlalchemy.engine.Engine [cached since 418.6s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:15:16,299 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54638 - "GET /api/v1/food/ HTTP/1.1" 200 OK
2026-02-06 01:16:01,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:01,355 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.email = $1::VARCHAR
2026-02-06 01:16:01,355 INFO sqlalchemy.engine.Engine [cached since 467.6s ago] ('testmuellim@corevia.com',)
2026-02-06 01:16:01,560 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54642 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
2026-02-06 01:16:01,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:01,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:01,577 INFO sqlalchemy.engine.Engine [cached since 477.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,578 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54642 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
2026-02-06 01:16:01,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:01,597 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:01,597 INFO sqlalchemy.engine.Engine [cached since 477.2s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,598 INFO sqlalchemy.engine.Engine SELECT user_onboarding.id, user_onboarding.user_id, user_onboarding.fitness_goal, user_onboarding.fitness_level, user_onboarding.preferred_trainer_type, user_onboarding.is_completed, user_onboarding.completed_at, user_onboarding.created_at 
FROM user_onboarding 
WHERE user_onboarding.user_id = $1::VARCHAR
2026-02-06 01:16:01,598 INFO sqlalchemy.engine.Engine [cached since 466.8s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,599 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54642 - "GET /api/v1/onboarding/status HTTP/1.1" 200 OK
2026-02-06 01:16:01,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:01,679 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:01,679 INFO sqlalchemy.engine.Engine [cached since 477.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,680 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:16:01,680 INFO sqlalchemy.engine.Engine [cached since 427.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,681 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:01,681 INFO sqlalchemy.engine.Engine [cached since 427.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,682 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:01,682 INFO sqlalchemy.engine.Engine [cached since 427.7s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:01,683 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54642 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:16:06,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:06,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:06,660 INFO sqlalchemy.engine.Engine [cached since 482.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:06,661 INFO sqlalchemy.engine.Engine SELECT training_plans.id, training_plans.trainer_id, training_plans.assigned_student_id, training_plans.title, training_plans.plan_type, training_plans.notes, training_plans.created_at, training_plans.updated_at 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR ORDER BY training_plans.created_at DESC
2026-02-06 01:16:06,661 INFO sqlalchemy.engine.Engine [cached since 427.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:06,661 INFO sqlalchemy.engine.Engine SELECT plan_workouts.training_plan_id AS plan_workouts_training_plan_id, plan_workouts.id AS plan_workouts_id, plan_workouts.name AS plan_workouts_name, plan_workouts.sets AS plan_workouts_sets, plan_workouts.reps AS plan_workouts_reps, plan_workouts.duration AS plan_workouts_duration 
FROM plan_workouts 
WHERE plan_workouts.training_plan_id IN ($1::VARCHAR)
2026-02-06 01:16:06,661 INFO sqlalchemy.engine.Engine [cached since 427.9s ago] ('c2f0a6b0-234d-498e-a9dd-a9e18f59e0e2',)
2026-02-06 01:16:06,662 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54642 - "GET /api/v1/plans/training HTTP/1.1" 200 OK
2026-02-06 01:16:12,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:12,907 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:12,907 INFO sqlalchemy.engine.Engine [cached since 488.5s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:12,908 INFO sqlalchemy.engine.Engine SELECT meal_plans.id, meal_plans.trainer_id, meal_plans.assigned_student_id, meal_plans.title, meal_plans.plan_type, meal_plans.daily_calorie_target, meal_plans.notes, meal_plans.created_at, meal_plans.updated_at 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR ORDER BY meal_plans.created_at DESC
2026-02-06 01:16:12,908 INFO sqlalchemy.engine.Engine [cached since 432.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:12,909 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54645 - "GET /api/v1/plans/meal HTTP/1.1" 200 OK
2026-02-06 01:16:17,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:17,734 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:17,734 INFO sqlalchemy.engine.Engine [cached since 493.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:17,735 INFO sqlalchemy.engine.Engine SELECT chat_messages.id, chat_messages.sender_id, chat_messages.receiver_id, chat_messages.message, chat_messages.is_read, chat_messages.created_at 
FROM chat_messages 
WHERE chat_messages.sender_id = $1::VARCHAR OR chat_messages.receiver_id = $2::VARCHAR ORDER BY chat_messages.created_at DESC
2026-02-06 01:16:17,735 INFO sqlalchemy.engine.Engine [cached since 436.4s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd', 'b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd')
2026-02-06 01:16:17,736 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:17,736 INFO sqlalchemy.engine.Engine [cached since 493.4s ago] ('d1106f86-895c-49d3-9b2c-6c6c1f3c6b3c',)
2026-02-06 01:16:17,736 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54645 - "GET /api/v1/chat/conversations HTTP/1.1" 200 OK
2026-02-06 01:16:24,032 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:24,032 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:24,032 INFO sqlalchemy.engine.Engine [cached since 499.6s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:24,033 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:16:24,033 INFO sqlalchemy.engine.Engine [cached since 450s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:24,033 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:24,034 INFO sqlalchemy.engine.Engine [cached since 450s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:24,034 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:24,034 INFO sqlalchemy.engine.Engine [cached since 450s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:24,034 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54648 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
2026-02-06 01:16:43,317 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-06 01:16:43,318 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.id = $1::VARCHAR
2026-02-06 01:16:43,318 INFO sqlalchemy.engine.Engine [cached since 518.9s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:43,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.name, users.email, users.hashed_password, users.user_type, users.profile_image_url, users.is_active, users.created_at, users.updated_at, users.age, users.weight, users.height, users.goal, users.trainer_id, users.specialization, users.experience, users.rating, users.price_per_session, users.bio, users.verification_status, users.certificate_image_url, users.instagram_handle, users.verification_photo_url, users.verification_score, users.verification_attempts, users.last_verification_attempt, users.is_premium, users.is_admin 
FROM users 
WHERE users.trainer_id = $1::VARCHAR
2026-02-06 01:16:43,320 INFO sqlalchemy.engine.Engine [cached since 469.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:43,321 INFO sqlalchemy.engine.Engine SELECT count(training_plans.id) AS count_1 
FROM training_plans 
WHERE training_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:43,321 INFO sqlalchemy.engine.Engine [cached since 469.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:43,322 INFO sqlalchemy.engine.Engine SELECT count(meal_plans.id) AS count_1 
FROM meal_plans 
WHERE meal_plans.trainer_id = $1::VARCHAR
2026-02-06 01:16:43,322 INFO sqlalchemy.engine.Engine [cached since 469.3s ago] ('b5ad8019-3283-4d6d-9dd1-aa20c8edd3dd',)
2026-02-06 01:16:43,323 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:54650 - "GET /api/v1/trainer/stats HTTP/1.1" 200 OK
